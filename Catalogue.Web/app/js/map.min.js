(function(){var t,n;n=angular.module("app.map");t=function(n,t){var r,i;return i=angular.element(n).innerHeight(),r=angular.element(t).offset().top,i-elemTop+"px"};n.directive("tcSearchMap",function(n,t,i){return{link:function(n,r){var e,s,f,o,u;return f=L.map(r[0]),L.tileLayer("https://{s}.tiles.mapbox.com/v4/petmon.lp99j25j/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoicGV0bW9uIiwiYSI6ImdjaXJLTEEifQ.cLlYNK1-bfT0Vv4xUHhDBA",{maxZoom:18,attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap<\/a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA<\/a>, Imagery © <a href="http://mapbox.com">Mapbox<\/a>',id:"petmon.lp99j25j"}).addTo(f),e=L.layerGroup().addTo(f),u={},o={color:"#222",fillOpacity:.2,weight:1},s={color:"rgb(217,38,103)",fillOpacity:.6,weight:1},n.$watch("result.results",function(r){var c,s,h,l;for(u=function(){var u,e,f;for(f=[],u=0,e=r.length;u<e;u++)c=r[u],c.box&&f.push(function(r){var f,u;f=[[r.box.south,r.box.west],[r.box.north,r.box.east]];u=L.rectangle(f,o);u.on("mouseover",function(){return n.$apply(function(){return n.highlighted.id=r.id})});u.on("click",function(){return n.$apply(function(){return n.highlighted.id=r.id,t.hash(r.id),i()})});return{id:r.id,bounds:f,rect:u}}(c));return f}(),e.clearLayers(),h=0,l=u.length;h<l;h++)s=u[h],e.addLayer(s.rect);if(u.length>0)return n.highlighted.id=u[0].id,f.fitBounds(function(){var n,i,t;for(t=[],n=0,i=u.length;n<i;n++)s=u[n],t.push(s.bounds);return t}(),{padding:[5,5]})}),n.$watch("highlighted.id",function(n,t){var i,r,f;return(r=function(){var n,f,r;for(r=[],n=0,f=u.length;n<f;n++)i=u[n],i.id===t&&r.push(i.rect);return r}()[0])!=null&&r.setStyle(o),(f=function(){var t,f,r;for(r=[],t=0,f=u.length;t<f;t++)i=u[t],i.id===n&&r.push(i.rect);return r}()[0])!=null?f.setStyle(s):void 0})}}});n.directive("tcBlah",function(n){return{link:function(t,i){var r;return r=angular.element(n),r.bind("scroll",function(){var n,u;return u=function(){var t,e,u,f;for(u=i.children(),f=[],t=0,e=u.length;t<e;t++)n=u[t],angular.element(n).offset().top>r.scrollTop()&&f.push(n);return f}(),u.length>0?t.$apply(function(){return t.highlighted.id=u[0].id}):void 0})}}});n.directive("tcStickToTop",function(n,t){return{link:function(i,r){var e,u,f;return f=angular.element(n),u=function(){return{v:f.scrollTop(),e:r.offset().top,w:r.width()}},e=function(){var n;return n=u(),f.bind("scroll",function(){var t;return(t=u(),t.v>t.e)?(r.addClass("stick-to-top"),r.css("width",n.w)):t.v<n.e?(r.removeClass("stick-to-top"),r.css("width","")):void 0})},t(e,100)}}})}).call(this);
//# sourceMappingURL=map.min.js.map
