(function(){angular.module("app.controllers").controller("SearchController",function(n,t,i,r,u){var e,f,o,s,c,l,h;return e="Topcat ",n.app={starting:!0},u(function(){return n.app.starting=!1},500),o=function(t){return i.search("q",n.query.q),t.q||t.k[0]?(n.busy.start(),r.get("../api/search?"+$.param(n.query)).success(function(t){if(angular.equals(t.query,n.query))return n.result=t.total===0?{}:t})["finally"](function(){return n.busy.stop()})):n.result={}},h=function(){return{q:"",k:[null],p:0,n:25}},f=$.extend({},h(),i.search()),console.log(f),n.query=f,n.$watch("query",o,!0),n.$watch(function(){return i.search()},function(){}),t.page={title:e},n.getKeywords=function(n){return r.get("../api/keywords?q="+n).then(function(n){return n.data})},l=function(n){var t;return t=s(n.vocab,"/")+n.value,t.replace("http://","")},c=function(n){var t,r,f,i,u,e;if(n.indexOf("/")===-1)return{value:n,vocab:""};for(t=n.split("/"),f=t[t.length-1],i="http://",r=u=0,e=t.length-2;u<=e;r=u+=1)i=i.concat(t[r].concat("/"));return{value:f,vocab:i}},s=function(n,t){return n===""||n.indexOf(t,n.length-t.length)!==-1?n:n.concat(t)}})}).call(this);
//# sourceMappingURL=SearchController.min.js.map
