(function(){angular.module("app.controllers").controller("SearchController",function(n,t,i,r,u){var f,e;return f="Topcat - ",n.app={starting:!0},u(function(){return n.app.starting=!1},500),e=function(u){return i.search("q",u.q),t.page={title:u.q?f+u.q:f},u.q?(n.busy.start(),r.get("../api/search?"+$.param(u)).success(function(t){if(angular.equals(t.query,n.query))return n.result=t})["finally"](function(){return n.busy.stop()})):n.result={}},n.doKeywordSearch=function(i,u){var e;return e={},e.keyword=i,e.pageNumber=u,e.numberOfRecords=25,n.busy.start(),r.post("../api/keywordSearch",e).success(function(r){return n.result=r,n.busy.stop(),t.page={title:f+i}})},n.query={q:i.search().q||"",p:1},n.$watch("query",e,!0),n.$watch(function(){return i.search().q},function(t){return n.query.q=t||""})})}).call(this)