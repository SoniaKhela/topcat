(function(){angular.module("app.controllers").controller("VocabularyEditorController",function(n,t,i,r,u){return n.reset=function(){return n.form=angular.copy(u),n.newVocab=u.id?!1:!0},n.removeKeyword=function(t){return n.form.keywords.splice(t,1)},n.addKeyword=function(){return n.form.keywords.push({id:"",value:""})},n.isClean=function(){return angular.equals(n.form,u)},n.isSaveHidden=function(){return n.isClean()},n.isCancelHidden=function(){return n.isClean()},n.save=function(){var f;return f=function(t){var i;return t.data.success?(u=t.data.vocab,n.form=angular.copy(u),n.validation={},n.reset(),n.notifications.add("Edits saved"),r.path("/vocabularies/editor/"+u.id)):(n.validation=t.data.validation,i=t.data.validation.errors,i.length>0&&n.notifications.add("There were errors")),n.busy.stop()},n.busy.start(),i.vocabId!=="0"?t.put("../api/vocabularies?id="+u.id,n.form).then(f):t.post("../api/vocabularies",n.form).then(f)},n.reset()})}).call(this)