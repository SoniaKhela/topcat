(function(){angular.module("app.controllers").controller("AssessmentController",function(n,t){var r,i;return r=function(n){var t,r,u;return u=n.getFullYear(),r=i(n.getMonth()+1),t=i(n.getDate()),""+t+"/"+r+"/"+u},i=function(n){return n<10?"0"+n:n},n.assessmentRequest={},n.assessmentRequest.id=n.form.id,n.publishingButtonText=n.form.publication!==null&&n.form.publication.openData.assessment.completed?n.form.publication.openData.assessment.initialAssessmentWasDoneOnSpreadsheet?"Initial assessment completed on spreadsheet":"Completed by "+n.form.publication.openData.assessment.completedByUser.displayName+" on "+r(new Date(n.form.publication.openData.assessment.completedOnUtc)):"I AGREE",n.close=function(){return t.put("../api/publishing/opendata/assess",n.assessmentRequest).success(function(t){return n.$close(t.record)})["catch"](function(t){return n.notifications.add(t.data.exceptionMessage),n.$dismiss()})}})}).call(this);