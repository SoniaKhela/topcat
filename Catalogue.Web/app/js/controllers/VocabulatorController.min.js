(function(){angular.module("app.controllers").controller("VocabulatorController",function(n,t,i){var u,f,e,o,r;return n.vocabulator||(n.vocabulator={}),r=n.vocabulator,r.allVocabs||(r.allVocabs={}),r.filteredVocabs||(r.filteredVocabs={}),r.selectedVocab||(r.selectedVocab={}),r.loadedVocab||(r.loadedVocab=null),r.foundKewords||(r.foundKeywords=[]),n.vocabulator.found||(n.vocabulator.found={}),n.colourHasher=i,u=function(){return r.loadedVocab={},r.selectedVocab={}},angular.equals(r.allVocabs,{})&&t.get("../api/vocabularylist").success(function(n){return r.allVocabs=n,r.filteredVocabs=n}),e=function(){var u,t,i;if(!angular.equals(r.allVocabs,{}))return t=n.vocabulator.q.toLowerCase(),console.log(t),u=function(){var n,e,u,f;for(u=r.allVocabs,f=[],n=0,e=u.length;n<e;n++)i=u[n],i.name.toLowerCase().indexOf(t)!==-1&&f.push(i);return f}(),r.filteredVocabs=u},f=function(){return n.vocabulator.q?t.get("../api/keywords?q="+n.vocabulator.q).success(function(t){return n.vocabulator.foundKeywords=t}).error(function(t){return n.notifications.add("Oops! "+t.message)}):n.vocabulator.foundKeywords=[]},n.doFind=function(t,i){if(t!==i)return n.vocabulator.selectedKeyword={vocab:"",value:n.vocabulator.q},u(),e(),f()},n.$watch("vocabulator.q",n.doFind),o=function(i,u){if(i&&i!==u)return t.get("../api/vocabularies?id="+encodeURIComponent(i.id)).success(function(n){return r.loadedVocab=n}).error(function(t){return n.notifications.add("Oops! "+t.message)})},n.$watch("vocabulator.selectedVocab",o),n.selectKeyword=function(t){return n.vocabulator.selectedKeyword=t},n.close=function(){return n.$close(n.vocabulator.selectedKeyword)}})}).call(this);
//# sourceMappingURL=VocabulatorController.min.js.map
