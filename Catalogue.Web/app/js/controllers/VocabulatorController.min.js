(function(){angular.module("app.controllers").controller("VocabulatorController",function(n,t,i){var r,u,f;return n.vocabs={},n.vocab={},n.find={},n.found={},n.selected={},n.colourHasher=i,t.get("../api/vocabularylist").success(function(t){return n.vocabs.all=t,n.vocabs.filtered=t}),u=function(){var i,r,t;if(n.vocabs.all)return r=n.find.text.toLowerCase(),i=function(){var i,e,u,f;for(u=n.vocabs.all,f=[],i=0,e=u.length;i<e;i++)t=u[i],t.name.toLowerCase().indexOf(r)!==-1&&f.push(t);return f}(),n.vocabs.filtered=i},r=function(){return n.find.text?t.get("../api/keywords?q="+n.find.text).success(function(t){return n.found.keywords=t}).error(function(t){return n.notifications.add("Oops! "+t.message)}):n.found.keywords=[]},n.doFind=function(){return u(),r()},n.$watch("find.text",n.doFind,!0),f=function(i){if(i)return t.get("../api/vocabularies?id="+encodeURIComponent(i.id)).success(function(t){return n.vocab=t}).error(function(t){return n.notifications.add("Oops! "+t.message)})},n.$watch("selected.vocab",f),n.selectKeyword=function(t){return n.selected.keyword=t},n.close=function(){return n.$close(n.selected.keyword)}})}).call(this);
//# sourceMappingURL=VocabulatorController.min.js.map
