(function(){angular.module("app.controllers").controller("VocabulatorController",function(n,t,i){var r,u,f,e;return n.vocabulator||(n.vocabulator={}),n.vocabulator.vocabs||(n.vocabulator.vocabs={}),n.vocabulator.vocab||(n.vocabulator.vocab={}),n.vocabulator.found||(n.vocabulator.found={}),n.colourHasher=i,r=function(){return n.vocabulator.vocab={},n.vocabulator.selectedVocab={}},n.vocabulator.vocabs.all||t.get("../api/vocabularylist").success(function(t){return n.vocabulator.vocabs.all=t,n.vocabulator.vocabs.filtered=t}),f=function(){var i,r,t;if(n.vocabulator.vocabs.all)return r=n.vocabulator.q.toLowerCase(),i=function(){var i,e,u,f;for(u=n.vocabulator.vocabs.all,f=[],i=0,e=u.length;i<e;i++)t=u[i],t.name.toLowerCase().indexOf(r)!==-1&&f.push(t);return f}(),n.vocabulator.vocabs.filtered=i},u=function(){return n.vocabulator.q?t.get("../api/keywords?q="+n.vocabulator.q).success(function(t){return n.vocabulator.found.keywords=t}).error(function(t){return n.notifications.add("Oops! "+t.message)}):n.vocabulator.found.keywords=[]},n.doFind=function(t,i){if(t!==i)return n.vocabulator.selectedKeyword={vocab:"",value:n.vocabulator.q},r(),f(),u()},n.$watch("vocabulator.q",n.doFind),e=function(i,r){if(i&&i!==r)return t.get("../api/vocabularies?id="+encodeURIComponent(i.id)).success(function(t){return n.vocabulator.vocab=t}).error(function(t){return n.notifications.add("Oops! "+t.message)})},n.$watch("vocabulator.selectedVocab",e),n.selectKeyword=function(t){return n.vocabulator.selectedKeyword=t},n.close=function(){return n.$close(n.vocabulator.selectedKeyword)}})}).call(this);
//# sourceMappingURL=VocabulatorController.min.js.map
