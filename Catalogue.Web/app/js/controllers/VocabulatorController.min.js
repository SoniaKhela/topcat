(function(){angular.module("app.controllers").controller("VocabulatorController",function(n,t,i){var u,r;return angular.equals({},n.vocabulator)&&angular.extend(n.vocabulator,{q:"",allVocabs:[],filteredVocabs:[],selectedVocab:{},loadedVocab:{},foundKeywords:[],selectedKeyword:{}}),r=n.vocabulator,n.colourHasher=i,r.allVocabs.length||t.get("../api/vocabularylist").success(function(n){return r.allVocabs=n,r.filteredVocabs=n}),n.doFind=function(i,u){var f,e,o;return f=function(){return r.loadedVocab={},r.selectedVocab={}},o=function(){var t,n;return i=r.q.toLowerCase(),t=function(){var t,e,u,f;for(u=r.allVocabs,f=[],t=0,e=u.length;t<e;t++)n=u[t],n.name.toLowerCase().indexOf(i)!==-1&&f.push(n);return f}(),r.filteredVocabs=t},e=function(){return r.q===""?r.foundKeywords=[]:t.get("../api/keywords?q="+r.q).success(function(n){return r.foundKeywords=n}).error(function(t){return n.notifications.add("Oops! "+t.message)})},i!==u?(r.selectedKeyword={vocab:"",value:r.q},f(),o(),e()):void 0},n.$watch("vocabulator.q",n.doFind),u=function(i,u){if(i&&i!==u)return t.get("../api/vocabularies?id="+encodeURIComponent(i.id)).success(function(n){return r.loadedVocab=n}).error(function(t){return n.notifications.add("Oops! "+t.message)})},n.$watch("vocabulator.selectedVocab",u),n.selectKeyword=function(n){return r.selectedKeyword=n},n.close=function(){return n.$close(r.selectedKeyword)}})}).call(this);
//# sourceMappingURL=VocabulatorController.min.js.map
