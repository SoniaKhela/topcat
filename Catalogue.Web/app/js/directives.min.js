(function(){var i,r,n,t;n=angular.module("app.directives");n.directive("placeholder",function(){return{link:function(n,t){return $(t).placeholder()}}});n.directive("autofocus",function(){return{link:function(n,t){return t[0].focus()}}});n.directive("tcEatClick",function(){return{link:function(n,t){return $(t).click(function(n){return n.preventDefault()})}}});t={position:{my:"bottom center",at:"top center",viewport:$(window)},show:{event:"click mouseenter",solo:!0,delay:0},hide:{fixed:!0,delay:0},style:{classes:"qtip-dark qtip-rounded tip"}};n.directive("tcTip",function(){return{link:function(n,i,r){return r.tcTip==="bottom"?$(i).qtip($.extend({},t,{position:{my:"top center",at:"bottom center"}})):$(i).qtip(t)}}});n.directive("tcFocusTip",function(){return{link:function(n,i){return $(i).qtip($.extend({},t,{show:{event:"focus"},hide:{event:"blur"}}))}}});n.directive("tcQtipTitle",function(){return{link:function(n,i){return n.$watch("lookups.currentDataFormat.text",function(){var r;return r=n.lookups.currentDataFormat.text,n.lookups.currentDataFormat.code!==void 0&&n.lookups.currentDataFormat.code!==""&&(r=r+" ("+n.lookups.currentDataFormat.code+")"),$(i).qtip($.extend({},t,{overwrite:!0,content:{text:r},show:{event:"mouseenter"},position:{my:"top center",at:"bottom center"}}))})}}});n.directive("tcTag",function(){return{link:function(n,r){var u,f;return r.addClass("tag"),n.k.vocab&&(u=i(n.k.vocab),f=angular.element('<span style="background-color:'+u+'">&nbsp;<\/span>'),r.prepend(f)),$(r).qtip($.extend({},t,{content:{text:n.k.vocab},position:{my:"top center",at:"bottom center"}}))}}});n.directive("tcTopCopyIcon",function(){return{link:function(n,i){return $(i).addClass("dark glyphicon glyphicon-leaf"),$(i).qtip($.extend({},t,{position:{my:"left center",at:"right center"}}))}}});n.directive("tcAutosize",function(n){return{link:function(t,i){return n(function(){return $(i).autosize()})}}});n.directive("tcBackButton",function(n){return{link:function(t,i){return i.on("click",function(){return n.history.back()})}}});n.directive("tcSpinner",function(n){return{link:function(t,i){return i.addClass("ng-hide"),n.$on("$routeChangeStart",function(){return i.removeClass("ng-hide")}),n.$on("$routeChangeSuccess",function(){return i.addClass("ng-hide")})}}});n.directive("tcServerValidation",function(n){return{require:"ngModel",link:function(t,i,r,u){return i.on("blur",function(){return t.$apply(function(){return n.post("../api/validator",{value:i.val()})}).success(function(n){return u.$setValidity("myErrorKey",n.valid)})})}}});n.directive("tcCopyPathToClipboard",function(n){return{link:function(i,r,u){var f;f=new ZeroClipboard($(r));$(f.htmlBridge).qtip($.extend({},t,{content:{text:"Copy path to clipboard"},position:{my:"top center",at:"bottom center"}}));$(f.htmlBridge).addClass("hover-fix");return f.on("complete",function(){var i,r;return i=$("#"+u.tcCopyPathToClipboard),i.highlightInputSelectionRange(0,i.val().length),i.qtip("disable",!0),r=$(".editor-path"),r.qtip($.extend({},t,{content:{text:"Copied to clipboard!"}})),r.qtip("show"),n(function(){return r.qtip("hide"),r.qtip("disable"),i.qtip("disable",!1)},2e3)})}}});n.directive("tcServerValidated",function(){return{require:"ngModel",link:function(n,t,i,r){return r.$viewChangeListeners.push(function(){return r.$setValidity("server",!0)})}}});n.directive("tcDebounce",function(n){return{restrict:"A",require:"ngModel",priority:99,link:function(t,i,r,u){var f;if(r.type!=="radio"&&r.type!=="checkbox")return i.unbind("input"),f=void 0,i.bind("input",function(){return n.cancel(f),f=n(function(){return t.$apply(function(){return u.$setViewValue(i.val())})},500)}),i.bind("blur",function(){return t.$apply(function(){return u.$setViewValue(i.val())})})}}});n.directive("tcDropdown",function(){return{restrict:"E",transclude:!0,replace:!0,template:'<div> <form> <input type="text" ng-model="term" ng-change="query()" autocomplete="off" /> <\/form> <div ng-transclude><\/div> <\/div>',scope:{search:"&",select:"&",items:"=",term:"="},controller:function(n){return n.items=[],n.hide=!1,this.activate=function(t){return n.active=t}}}});i=function(n){var i,t;return n==="http://vocab.jncc.gov.uk/jncc-broad-category"?"rgb(38,110,217)":(i=Math.abs(n.hashCode()%99)*.01,t=r(i,.7,.5),"rgb("+t[0].toFixed(0)+","+t[1].toFixed(0)+","+t[2].toFixed(0)+")")};r=function(n,t,i){var u,f,e,o,r,s;return s=void 0,f=void 0,u=void 0,t===0?s=f=u=i:(e=function(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n},r=i<.5?i*(1+t):i+t-i*t,o=2*i-r,s=e(o,r,n+1/3),f=e(o,r,n),u=e(o,r,n-1/3)),[s*255,f*255,u*255]}}).call(this);
//# sourceMappingURL=directives.min.js.map
