<div>

    <form name="theForm">
        
        <!-- top row of buttons etc.  -->
        <div class="row">
            <div class="col-md-6">
                <div ng-show="form.readOnly" class="editor-readonly form-group">
                    <span class="well well-sm">
                        <span tc-tip class="glyphicon glyphicon-lock hoverable-glyphicon" title="This record is read-only"></span>
                        <span ng-show="!isClean()"> This record is read-only and can't be saved</span>
                    </span>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group pull-right">
                    <button class="btn btn-default" tc-back-button>
                        <span class="dark glyphicon glyphicon-circle-arrow-left btn-glyphicon"></span>BACK
                    </button>
                    <span>
                        <button ng-click="reset()" ng-hide="isResetHidden()" class="btn btn-default" >CANCEL</button>
                        <button ng-click="save()"  ng-hide="isSaveHidden()" ng-disabled="isSaveDisabled()" class="btn btn-danger">SAVE</button>
                    </span>
                </div>
            </div>

        </div>

        <!-- title-and-path  -->
        <div class="row">
            <div class="col-md-12">
                

                <div class="form-group">
                    <input type="text" ng-model="form.gemini.title" placeholder="Title" class="editor-title form-control"
                           title="The title or name of the resource"
                           required
                           tc-focus-tip />
                </div>

                <div class="well well-sm form-group">
                    <div class="input-group">
                        <span class="input-group-addon well-input-group-addon"><span class="dark glyphicon glyphicon-th-large"></span></span>

                        <input id="form-path" name="form.path" ng-model="form.path" 
                               type="text" class="form-control" 
                               placeholder="Location"
                               tc-server-validation
                               tc-focus-tip title="The path to the resource on the file share or the web"
                               spellcheck="false" />

                        <span class="input-group-btn">
                            <button class="btn btn-primary" type="button"
                                    ng-disabled="!form.path"
                                    tc-copy-to-clipboard="form-path"
                                    data-clipboard-target="form-path">
                                <span class="glyphicon glyphicon-new-window"></span>
                            </button>
                        </span>
                    </div>
                </div>

            </div>

        </div>

        <div class="row">

            <div class="col-md-9">


                <!-- tags and topic  -->
                <div class="row form-group">
                    <div class="col-md-8">
                        
                        <div>
                            <span ng-repeat="k in form.gemini.keywords" tc-tag tc-tag-delete>
                                <span ng-style="{ 'background-color': hashStringToColor(k.vocab) }">&nbsp;</span>
                                {{ k.value }}
                            </span>
                        </div>
                    </div>
                    <div class="col-md-4 text-right">
                        <div class="form-inline">
                            <div class="form-group text-left selectContainer">
                                <select
                                    ng-model="form.topic"
                                    ng-options="topic.key for topic in lookups.topics"
                                    class="form-control"
                                    title="The main theme of the data resource">
                                    <option value="" disabled selected style="display: none">Topic</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- abstract -->
                <div class="editor-abstract form-group">
                    <textarea type="text" ng-model="form.gemini.abstract" class="form-control"
                              rows="2"
                              placeholder="Abstract"
                              title="The abstract is a clear, brief summary of the resource's content"
                              tc-focus-tip tc-autosize></textarea>
                </div>


                <div class="form-group">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="input-group">
                                <input type="text" class="form-control date"
                                       name="form.gemini.temporalExtent.begin" ng-model="form.gemini.temporalExtent.begin"
                                       placeholder="yyyy-mm-dd"
                                       tc-datepicker
                                       tc-focus-tip title="The dates covered by the data resource" />
                                <span class="input-group-addon"><span class="dark glyphicon glyphicon-calendar"></span></span>
                                <span class="dark glyphicon glyphicon-chevron-right" style="margin-left: 2em;"></span>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <input type="text" class="form-control date"
                                       name="form.gemini.temporalExtent.end" ng-model="form.gemini.temporalExtent.end"
                                       placeholder="yyyy-mm-dd"
                                       tc-datepicker
                                       tc-focus-tip title="The dates covered by the data resource" />
                                <span class="input-group-addon"><span class="dark glyphicon glyphicon-calendar"></span></span>
                            </div>
                        </div>
                        <div class="col-md-6">
                        </div>
                    </div>
                </div>



                <hr />
                <!--                <div class="well well-sm">-->
                <!---->
                <!--                    <div ng-repeat="contact in form.contacts" ng-animate=" 'animate' " class="form-inline form-group">-->
                <!--                        <select ng-model="contact.type" class="form-control" style="width: 140px">-->
                <!--                            <option>email</option>-->
                <!--                            <option>phone</option>-->
                <!--                            <option>pager</option>-->
                <!--                            <option>IM</option>-->
                <!--                        </select>-->
                <!--                        <input type="text" ng-model="contact.value" required placeholder="go on, go on" class="form-control" style="width: 140px" />-->
                <!--                        <a ng-click="removeContact(contact)" class="btn btn-primary">X</a>-->
                <!--                    </div>-->
                <!---->
                <!--                    <a ng-click="addContact()" class="btn btn-primary">ADD</a>-->
                <!---->
                <!--                </div>-->

                <div class="form-group">
                    <button ng-click="reset()" ng-hide="isResetHidden()" class="btn btn-default" >CANCEL</button>
                    <button ng-click="save()"  ng-hide="isSaveHidden()" ng-disabled="isSaveDisabled()" class="btn btn-danger">SAVE</button>
                </div>

            </div>

            <div class="col-md-3">
                <div class="editor-internal well well-sm">
                    

                    <div class="editor-top-copy layout-row">
                        <div class="layout-col">
                            <span>Top copy</span>
                        </div>
                        <div class="layout-col pull-right">
                            <div class="btn-group">
                                <!-- omg angular ! -->
                                <button ng-click="form.topCopy = true" ng-class="{ 'btn-primary': form.topCopy, 'btn-default': !form.topCopy }" class="btn">
                                    <span class="glyphicon glyphicon-leaf"></span>Yes
                                </button>
                                <button ng-click="form.topCopy = false" ng-class="{ 'btn-primary': !form.topCopy, 'btn-default': form.topCopy  }" class="btn">
                                    No
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <hr />

                    <div class="editor-status layout-row">
                        <div class="layout-col">
                            <span>Status</span>
                        </div>
                        <div class="layout-col pull-right">
                            
                            <div class="btn-group" data-toggle="buttons">
                                <label class="btn btn-primary">
                                    <input type="radio" name="options" id="option1">
                                    Internal
                                </label>
                                <label class="btn btn-success">
                                    <input type="radio" name="options" id="option2">
                                    Publishable
                                </label>
                            </div>
                        </div>
                    </div>

                    <hr />


                    <div class="form-group">
                        <textarea ng-model="form.notes" type="text" rows="4"
                            tc-autosize
                            class="form-control"
                            placeholder="Notes"
                            title="Notes to keep separate from the Gemini record"></textarea>
                    </div>
                    
                    <hr />

                    <div class="form-group">
                        <button type="button" class="btn btn-primary">
                            <span class="glyphicon glyphicon-repeat"></span> Yes
                        </button>
                    </div>

                </div>

            </div>
            
            {{form}}
        </div>
    </form>
</div>
